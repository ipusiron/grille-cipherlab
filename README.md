# Grille CipherLab - 回転グリル暗号の可視化ツール

![GitHub Repo stars](https://img.shields.io/github/stars/ipusiron/grille-cipherlab?style=social)
![GitHub forks](https://img.shields.io/github/forks/ipusiron/grille-cipherlab?style=social)
![GitHub last commit](https://img.shields.io/github/last-commit/ipusiron/grille-cipherlab)
![GitHub license](https://img.shields.io/github/license/ipusiron/grille-cipherlab)

**Day024 - 生成AIで作るセキュリティツール100**

**Grille CipherLab** は、古典暗号である回転グリル暗号（Rotating Grille Cipher）の仕組みを視覚的に体験できるWebツールです。

暗号化・復号の両モードに対応し、グリルの回転によってどのように文字が配置されるかを直感的に理解できます。

---

## 🌐 デモページ

👉 [https://ipusiron.github.io/grille-cipherlab/](https://ipusiron.github.io/grille-cipherlab/)

---

## 📸 スクリーンショット

>![3×3マトリクスからグリル（6×6マトリクス）を生成する様子](assets/grille_generation_mode.png)
>*3×3マトリクスからグリル（6×6マトリクス）を生成する様子*

---

## 🎥 機能概要

- グリルパターンの可視化（4回転）
- 暗号化モード：平文を順に穴に配置しながら回転し、暗号文を生成する。
- 復号モード：暗号文から文字を読み取りながら復号する。
- ステップごとの回転・アニメーション表示（予定）
- ユーザー定義のグリル穴パターンに対応（予定）

---

## 🗂 フォルダー構成

```
grille-cipherlab/
├── index.html # メインUI
├── style.css  # スタイルシート
├── script.js  # 暗号処理ロジック
├── assets/    # スクリーンショット等
└── README.md  # このファイル
```

---

## 🌀 回転グリル暗号とは

回転グリル暗号（Rotating Grille Cipher）は、**グリル（回転グリルとも呼ぶ）と呼ばれる穴あきの型紙（カード）** を使って文字を配置し、**一定回転ごとに順に文字を埋めていく** ことで暗号文を作成する **転置式暗号** の一種です。

16世紀後半〜18世紀ごろ、ヨーロッパで実際に使われた歴史があり、**ルネサンス期の秘密通信や軍事連絡** でも活用されました。

本ツールのグリルは6×6マトリクスですが、他の大きさのものもあります。
長い平文を暗号化するには、大きなものが必要になります。

グリルに対して4種類（0度、90度、180度、270度）の回転を適用することで、平文をうまくシャッフルして、ランダムに見える暗号文を作ります。

ところで、グリルの穴は適当に設定されているわけではありません。
4種類（0度、90度、180度、270度）の回転で、穴の位置が重複しないように設計されています。

グリルの穴の位置が鍵に相当します。
ただし、6×6マトリクスのグリルは3×3マトリクスから作られており、その3×3マトリクスには1から4までがランダムに埋められています。
つまり、この数値の配置こそが本質的な鍵になります。

回転グリル暗号の仕組みが若干複雑であり、理解しにくい暗号といえます。
そこで、本ツールGrille CipherLabを開発しました。
グリルの作成、グリルの回転と文字配置の流れを **ステップごとに視覚化** するため、仕組みを直感的に理解できるはずです。

---

### 🔍 回転グリル暗号 vs. カルダン・グリル暗号

回転グリル暗号ではグリル（穴が開いているカード）を用いましたが、同様にグリフを用いるまったく別種の暗号もあります。

カルダン・グリフ暗号は、グリルを回転させずに、穴に1文字ずつ平文を書き込み、残りの箇所には不自然にならないように作文して暗号文を作る手法です。

| 比較項目 | 回転グリル暗号<br>(Rotating Grille Cipher) | カルダン・グリル暗号<br>(Cardan Grille Cipher) |
|----------|-------------------------------------------|-----------------------------------------------|
| 分類     | 転置式暗号（Transposition Cipher）        | 分置式暗号（Transpositional Cipher）※隠蔽要素あり |
| 目的     | 文字の順序を入れ替えて秘匿する             | 秘密文をマスに埋め込み、表向きの文に擬装        |
| 使用法   | 穴あきグリルを回転させながらマスに文字を配置 | 穴あきグリルにのみ文字を書き、他のマスは無意味な文字で埋める |
| 回転     | 必須（通常は90度ずつ4回）                  | 回転しない（常に同じ位置の穴を使用）            |
| グリル形状 | 正方形が基本（回転のため）                | 任意の形状可（長方形・不規則形でも可）           |
| 見た目   | 無意味な文字列に見える                      | 一見自然な文章に見せかける（ステガノグラフィー的） |
| 鍵       | 穴の位置と回転順序                         | 穴の位置（固定グリル）                          |
| 歴史     | 16〜18世紀ヨーロッパで使用                 | 16世紀にカルダンが提案、詩文などに利用           |

---

**補足**：

回転グリル暗号では、正方形グリルを回転させながら順に文字を配置し、**全体を均等に使う設計が必要** です。

一方、**カルダン・グリル暗号ではグリルを回転させないため、マスクの形状は自由** で、**詩や散文の構造に合わせてカスタム可能** です。
ただし、自然な文章になる暗号文をなかなか難しく、ぎこちない文章が頻発しやすかったといいます。
つまり、うまくステガノグラフィーの効果を上げるには、テクニックが必要だったといえます。

---

## 📘 関連図書

- 『暗号解読 実践ガイド』IPUSIRON著（マイナビ）
    - P.249-273：第11章「回転グリル暗号」
	- 本ツールのデフォルト平文"HAPPY HOLIDAYS FROM THE HUNTINGTON FAMILY"は、『暗号解読 実践ガイド』P.251に登場するものです。書籍を見ながらツールを試すことで、より理解が深まります。

---

## 📄 ライセンス

MIT License - 詳細は[LICENSE](LICENSE)をご覧ください。

---

## 🛠 このツールについて

本ツールは、「生成AIで作るセキュリティツール100」プロジェクトの一環として開発されました。 このプロジェクトでは、AIの支援を活用しながら、セキュリティに関連するさまざまなツールを100日間にわたり制作・公開していく取り組みを行っています。

プロジェクトの詳細や他のツールについては、以下のページをご覧ください。

🔗 [https://akademeia.info/?page_id=42163](https://akademeia.info/?page_id=42163)
